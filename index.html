<!doctype html>

<html lang="en">
<head>
    <meta charset="utf-8">

    <title>Quadratic Reciprocity</title>
    <meta name="description" content="Quadratic Reciprocity">
    <meta name="author" content="Farhan Tejani and Marc Marone">

    <link rel="stylesheet" href="css/styles.css?v=1.0">
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
    <script language="javascript" type="text/javascript" src="empty-example/libraries/p5.js"></script>
    <script language="javascript" type="text/javascript" src="empty-example/permutations.js"></script>
    <script language="javascript" type="text/javascript" src="empty-example/quad.js"></script>
</head>

<body>
    <h1>What is Quadratic Reciprocity?</h1>
        <p>
            The law of quadratic reciprocity is a well known number theoretic theorem that gives conditions for the solvability of quadratic equations modulo prime numbers. <br>

            <span style="font-weight:bold">Example:</span> Are there solutions to the congruence $x^2 + 4x \equiv 10 \pmod{7}$? <br>

            <span style="font-weight:bold">Definition:</span>
            Let $p$ and $q$ be distinct odd primes. Then the law of quadratic reciprocity can be broken into three parts:

                $$\left( \frac{-1}{p} \right) =
                \begin{cases}
                    1   &p \equiv 1 \pmod{4} \\
                    -1  &p \equiv 3 \pmod{4}
                \end{cases}$$
                $$\left( \frac{2}{p} \right) =
                \begin{cases}
                    1   &p \equiv 1 \rm\ or\ 7 \pmod{8} \\
                    -1  &p \equiv 3 \rm\ or\ 5 \pmod{8}
                \end{cases}$$
                $$\left( \frac{q}{p} \right) =
                \begin{cases}
                    \left( \frac{p}{q} \right)   &p \equiv 1 \pmod{4} \text{ or } q \equiv 1 \pmod{4} \\
                    -\left( \frac{p}{q} \right)  &p \equiv 3 \pmod{4} \text{ and } q \equiv 3 \pmod{4}
                \end{cases}$$

            We will focus on the proof for the 3rd more general case for the purposes of this article.
        </p>

        <h1>Why is it Useful?</h1>
        <p>
            The main use for the law of quadratic reciprocity is to compute Legendre symbols. <br>

            <span style="font-weight:bold">Definition:</span>
            The Legendre symbol of $a$ modulo $p$ is
                $$\left( \frac{a}{p} \right) =
                \begin{cases}
                    1   &\text{if a is a quadratic residue modulo p} \\
                    -1  &\text{if a is a nonresidue modulo p}
                \end{cases}$$
            In essence, the Legendre symbol denotes whether a solution exists to the equation $x^2 \equiv a \pmod{p}$. <br>

            <span style="font-weight:bold">Example:</span>
            $$\left( \frac{55}{179} \right) = \left( \frac{5}{179} \right) \cdot \left( \frac{11}{79} \right) = \left( \frac{179}{5} \right) \cdot -\left( \frac{179}{11} \right) = -\left( \frac{4}{5} \right) \cdot \left( \frac{3}{11} \right) = -\left( \frac{3}{11} \right) = \left( \frac{11}{3} \right) = \left( \frac{2}{3} \right) = -1$$

            As you can see, the law of quadratic reciprocity allowed us to determine that $55$ is not square modulo $79$. At this point, one might be inclined to ask how to find the solutions given the result that a number is a quadratic residue. The answer to this problem is a separate matter (see Quadratic residues) and will not be discussed here.
        </p>

        <h1>Proof of the Theorem</h1>
            There are actually many different proofs for quadratic reciprocity. We outline two of them below.

        <h2>Eisenstein's Proof</h2>
        <p>
            Pull from text...
        </p>

        <h3>Gauss's Lemma</h3>
        <p>
            Pull from text...
        </p>

        <h2>A Journey through Permutations</h2>
        <p>
            Before we get to the second proof of quadratic reciprocity, we are going to need to learn a little bit about algebraic permutations.

            A permutation of a set $S$ is defined as a bijection from $S$ to itself. That is, it is a function from $S$ to $S$ that is both injective (one-to-one) and surjective (onto).

            For example, $f: \{1, 2, 3, 4\} \to \{1, 2, 3, 4\}$ is a permutaion given by
                $$f(n) = \begin{cases}
                    n+1     & n < 4 \\
                    1       & n = 4
                \end{cases}$$

            It can be visualized as such:
            <div id = "static_perm" align="center"></div>

            Notice the cycle decomposition and $sgn()$ value accompanying the figure above. <br>
            <span style="font-weight:bold">Definition:</span>
            The $\textit{cycle decomposition}$ is a quick way to write out a permutation without having to draw it or write out a piecewise function. It simply maps the current element to the subsequent one.
            <span style="font-weight:bold">Example:</span>
            The cycle decomposition $(1 3 2 4)$ refers to the permutation mapping $1 \to 3 \to 2 \to 4 \to 1$. <br>
            <span style="font-weight:bold">Definition:</span>
            The $sgn()$ or sign of a permutation $p$ is defined as
                $$sgn(p) = \begin{cases}
                    1       &\text{if the number of crossings is even} \\
                    -1      &\text{if the number of crossings is odd}
                \end{cases}$$

            or equivalently $sgn(p) = (-1)^{\text{# of inversions}}$ where an inversion is a pair $(i, j)$ such that $i < j$, but $p(i) > p(j)$. <br>

            Permutations can be composed just like normal functions. Say you have a permutation $\sigma$ and another permutation $\tau$. Then $\sigma \circ \tau = \sigma(\tau(n))$ and $\tau \circ \sigma = \tau(\sigma(n))$. Note that permutation groups are non-abelian, so $\sigma \circ \tau \neq \tau \circ \sigma$.
            <h4>Try composing some permutations yourself below:</h4>

            <div id = "perm" align="center"></div>
            <br>
            <span style="font-weight:bold">Other sign facts:</span>
            $$sgn(\sigma\tau) = sign(\sigma) \cdot sign(\tau)$$
            $$sgn(\text{m-length-cycle}) = (-1)^{m-1}$$
        </p>

        <h2>Matt Baker's Proof</h2>
        <p>
            Now with some basic knowledge of permutations, we are ready to tackle the proof that Dr. Matt Baker outlines in his blog <a href="https://mattbaker.blog/2013/07/03/quadratic-reciprocity-and-zolotarevs-lemma/">here</a>.
        </p>

        <h3>Zolotarev's Lemma</h3>
        <p>
            Matt Baker makes use of Zolotarev's Lemma in his proof. <br>
            <span style="font-weight:bold">Definition:</span>
            Let $\tau_a$ be the permutation of $\{1, 2, ..., p-1\}$ given by multiplying by $a$ modulo $p$ where $a$ is an integer not divisible by the odd prime $p$. Then Zolotarev's Lemma states
            $$ \left( \frac{a}{p} \right) = \left[ \frac{a}{p} \right]$$
            where $\left[ \frac{a}{p} \right] = sgn(\tau_a)$. <br>
            <span style="font-weight:bold">Proof:</span>
            Let $g$ be a primitive root modulo $p$ and let $k=\rm ind_g(a)$. As a set, $\{1, 2, ..., p-1\} = \{g^0, g^1, ..., g^{p-2}\}$ modulo $p$. This means multiplying by $a$ is equivalent to adding $k$ modulo $p-1$ on $\{0, 1, ..., p-2\}$. Therefore
                $$sgn(\tau_a) = ((-1)^{\frac{p-1}{(k, p-1)} - 1})^{(k, p-1)} = (-1)^{p-1-(k, p-1)} = (-1)^{(k, p-1)} \text{ since (p-1) is even}$$
            But,
                $$ (k, p-1) \text{ is } \begin{cases}
                    \text{odd}       &\text{if k is odd} \\
                    \text{even}      &\text{if k is even}
                \end{cases}$$
            and therefore,
            $$sgn(\tau_a) = (-1)^k = \left( \frac{a}{p} \right) \square$$
        </p>
            Now that we understand Zolotarev's Lemma, we can discuss the proof proposed by Matt Baker. <br>
            First, we need to define some permutaions in the form of playing card arrangements. Let $m$ and $n$ be odd relatively prime positive integers. We have a stack of $mn$ playing cards numbered $0$ through $mn-1$ and you want to deal them onto the table in an $m \times n$ rectangular array.  Consider the following three ways of doing this:
            <br>
            <br>
            <span style="font-weight:bold">Row Deal</span>
            ($\rho$): Deal the cards into rows, going left to right and top to bottom.
            //TODO: INSERT ROW DEAL
            <br>
            <br>
            <span style="font-weight:bold">Column Deal</span>
            ($\kappa$): Deal the cards into columns, going top to bottom and left to right.
            //TODO: INSERT COLUMN DEAL
            <br>
            <br>
            <span style="font-weight:bold">Diagonal Deal</span>
            ($\delta$): Deal the cards diagonally down and to the right, wrapping around from bottom to top or right to left whenever necessary.
            //TODO: INSERT DIAGONAL DEAL
            <br>
            <br>
            Additionally, each of these operations has an inverse action which  undos the above deals. We will denote these by Row pickup ($\rho^{-1}$), Column pickup ($\kappa^{-1}$), and Diagonal pickup ($\delta^{-1}$). We combine these basic moves as follows, obtaining three different permutations of the rectangular array which we denote by $\alpha$, $\beta$, and $\gamma$:

            <br>
            <br>
            $\alpha = \delta \circ \rho^{-1}$ is a row pickup followed by a diagonal deal.
            //TODO: INSERT ANIMATION
            <br>
            <br>
            $\beta = \delta \circ \kappa^{-1}$ is a column pickup followed by a diagonal deal.
            //TODO: INSERT ANIMATION
            <br>
            <br>
            $\gamma = \kappa \circ \rho^{-1}$ is a row pickup followed by a column deal.
            //TODO: INSERT ANIMATION
            <br>
            <br>
            Note that $\alpha$ permutes each column separately and $\beta$ permutes each row separately. Now, we can make a key observation.
            <br>
            <br>
            <span style="font-weight:bold">Observation:</span>
            $\alpha = \beta \circ \gamma$. Thus, $sgn(\alpha) = sgn(\beta) \cdot sgn(\gamma)$.
            <br>

        <p>

        </p>

        <h1>Jacobi Symbols</h1>
        <p>
            Evaluating Legendre symbols is useful, but for large numbers, it is not feasible to factor the numerator and split into multiple Legendre symbols. This is where the Generalized Law of Quadratic Reciprocity comes in.
            <br>
            <span style="font-weight:bold">Definition:</span>
            Let $a$ and $b$ be odd positive integers. Then the generalized law of quadratic reciprocity can be broken into three parts:

              $$\left( \frac{-1}{b} \right) =
                \begin{cases}
                    1   &b \equiv 1 \pmod{4} \\
                    -1  &b \equiv 3 \pmod{4}
                \end{cases}$$
                $$\left( \frac{2}{b} \right) =
                \begin{cases}
                    1   &b \equiv 1 \rm\ or\ 7 \pmod{8} \\
                    -1  &b \equiv 3 \rm\ or\ 5 \pmod{8}
                \end{cases}$$
                $$\left( \frac{a}{b} \right) =
                \begin{cases}
                    \left( \frac{b}{a} \right)   &a \equiv 1 \pmod{4} \text{ or } b \equiv 1 \pmod{4} \\
                    -\left( \frac{b}{a} \right)  &a \equiv 3 \pmod{4} \text{ and } b \equiv 3 \pmod{4}
                \end{cases}$$

            As you may have noticed, this statement is extremely similar to the Law of Quadratic Reciprocity discussed above. <br>

            <span style="font-weight:bold">Example:</span>
            $$\left( \frac{55}{179} \right) = -\left( \frac{179}{55} \right) = -\left( \frac{14}{55} \right) = -\left( \frac{2}{55} \right) \cdot \left( \frac{7}{55} \right) = \left( \frac{55}{7} \right) = \left( \frac{6}{7} \right) = \left( \frac{2}{7} \right) \cdot \left( \frac{3}{7} \right) =  -\left( \frac{7}{3} \right) = -\left( \frac{1}{3} \right) = -1$$

            As you can see, we were able to evaluate the same Legendre as the beginning of the article without factoring $55$.
        </p>

</body>
</html>